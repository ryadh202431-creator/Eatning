<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø­ÙˆÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø´Ø§Ù…Ù„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/convertapi-js/lib/convertapi.js"></script>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen">

    <nav class="bg-white shadow p-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold text-indigo-600">SmartConvert ğŸš€</h1>
        <select onchange="changeLang(this.value)" class="border p-1 rounded">
            <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
            <option value="en">English</option>
        </select>
    </nav>

    <div class="max-w-5xl mx-auto p-8">
        <div class="text-center mb-12">
            <h2 id="main-title" class="text-4xl font-extrabold mb-4">Ø£Ø¯Ø§Ø© ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø°ÙƒÙŠØ©</h2>
            <p id="main-desc" class="text-gray-600">Ø­ÙˆÙ„ ØµÙˆØ±Ùƒ Ø¥Ù„Ù‰ PDF Ø£Ùˆ Ù…Ù„ÙØ§Øª PDF Ø¥Ù„Ù‰ Word Ø¨Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            
            <div class="bg-white p-6 rounded-2xl shadow-lg border-t-4 border-blue-500">
                <h3 class="text-xl font-bold mb-4">ğŸ–¼ï¸ ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±Ø© Ø¥Ù„Ù‰ PDF</h3>
                <input type="file" id="imgInput" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 mb-4"/>
                <button onclick="imgToPdf()" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition">ØªØ­ÙˆÙŠÙ„ ÙˆØªØ­Ù…ÙŠÙ„ PDF</button>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-lg border-t-4 border-green-500">
                <h3 class="text-xl font-bold mb-4">ğŸ“„ ØªØ­ÙˆÙŠÙ„ PDF Ø¥Ù„Ù‰ Word</h3>
                <input type="file" id="pdfInput" accept=".pdf" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100 mb-4"/>
                <button onclick="pdfToWord()" class="w-full bg-green-600 text-white py-3 rounded-xl font-bold hover:bg-green-700 transition">ØªØ­ÙˆÙŠÙ„ ÙˆØªØ­Ù…ÙŠÙ„ Word</button>
                <p id="status" class="mt-2 text-sm text-center text-gray-500"></p>
            </div>

        </div>
    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯ ConvertAPI - Ø¶Ø¹ Ù…ÙØªØ§Ø­Ùƒ Ù‡Ù†Ø§
        const convertApi = new ConvertApi('YOUR_SECRET_HERE');

        // 1. ÙˆØ¸ÙŠÙØ© ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ PDF (ØªØ¹Ù…Ù„ Ù…Ø­Ù„ÙŠØ§Ù‹)
        async function imgToPdf() {
            const { jsPDF } = window.jspdf;
            const input = document.getElementById('imgInput');
            if (input.files.length === 0) return alert("Ø§Ø®ØªØ± ØµÙˆØ±Ø©!");

            const file = input.files[0];
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = new Image();
                img.src = e.target.result;
                img.onload = function() {
                    const pdf = new jsPDF(img.width > img.height ? 'l' : 'p', 'px', [img.width, img.height]);
                    pdf.addImage(img, 'JPEG', 0, 0, img.width, img.height);
                    pdf.save("converted-image.pdf");
                }
            }
            reader.readAsDataURL(file);
        }

        // 2. ÙˆØ¸ÙŠÙØ© ØªØ­ÙˆÙŠÙ„ PDF Ø¥Ù„Ù‰ Word (Ø¹Ø¨Ø± API)
        async function pdfToWord() {
            const input = document.getElementById('pdfInput');
            const status = document.getElementById('status');
            
            if (input.files.length === 0) return alert("Ø§Ø®ØªØ± Ù…Ù„Ù PDF!");

            status.innerText = "â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© ÙˆØ§Ù„ØªØ­ÙˆÙŠÙ„...";

            try {
                let params = convertApi.createParams();
                params.add('File', input.files[0]);
                
                let result = await convertApi.convert('pdf', 'docx', params);
                let url = result.files[0].url;

                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                const a = document.createElement('a');
                a.href = url;
                a.download = "document.docx";
                a.click();
                
                status.innerText = "âœ… Ø§ÙƒØªÙ…Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„!";
            } catch (e) {
                console.error(e);
                status.innerText = "âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ (ØªØ£ÙƒØ¯ Ù…Ù† Ù…ÙØªØ§Ø­ API)";
            }
        }

        // 3. Ù†Ø¸Ø§Ù… ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ§Øª Ø¨Ø³ÙŠØ·
        function changeLang(lang) {
            const isEn = lang === 'en';
            document.documentElement.dir = isEn ? 'ltr' : 'rtl';
            document.getElementById('main-title').innerText = isEn ? "Smart File Converter" : "Ø£Ø¯Ø§Ø© ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø°ÙƒÙŠØ©";
            // ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù†ØµÙˆØµ Ù‡Ù†Ø§ Ø¨Ù†ÙØ³ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©
        }
    </script>
</body>
</html>
